### 背景

现在新增了15个策略，只有5个是通过的，还有10个没通过，重构后项目的源代码还是存在问题，需要进一步修复。

### 目标

1. backtrader/run_test_with_log.py 运行这个脚本 python run_test_with_log.py tests/strategies/test_18_etf_rotation_strategy.py --both
2. 分析logs中重构分支和master分支的差异，找出导致测试失败的具体问题
3. 修复发现的问题，并重新运行测试验证修复效果,确保这个测试用例能够通过。
4. pytest tests -n 8，确保没有新增其他没通过的测试用例。
